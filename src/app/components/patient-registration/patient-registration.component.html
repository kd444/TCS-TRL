<div class="parent">
  <!--p class="heading">Registration</p-->
  <div class="form-body">
    <div>
      <form [formGroup]="insertForm" autocomplete="off">
        <!--  (ngSubmit)="onSubmit()" -->
        <mat-horizontal-stepper>
          <mat-step label="Project Details">
            <div class="form-group">
              <input
                formControlName="projectName"
                name="projectName"
                id="projectName"
                class="form-control col-xs-12 col-md-12"
                placeholder="Project Name"
              />

              <div
                *ngIf="
                  formControls.projectName.touched &&
                  formControls.projectName.invalid
                "
                class="alert alert-danger"
              >
                <div *ngIf="formControls.projectName.errors.required">
                  Project name is required.
                </div>
              </div>
            </div>

            <div class="form-group">
              <input
                formControlName="projectReferenceNumber"
                name="projectReferenceNumber"
                id="projectReferenceNumber"
                class="form-control col-xs-12 col-md-12"
                placeholder="Project Reference Number"
              />

              <div
                *ngIf="
                  formControls.projectReferenceNumber.touched &&
                  formControls.projectReferenceNumber.invalid
                "
                class="alert alert-danger"
              >
                <div
                  *ngIf="formControls.projectReferenceNumber.errors.required"
                >
                  Project Reference Number is required.
                </div>
              </div>
            </div>

            <!--div class="form-group">
              <input
                formControlName="organizationName"
                name="organizationName"
                id="organizationName"
                class="form-control col-xs-12 col-md-12"
                placeholder="Organization Name"
              />

              <div
                *ngIf="
                  formControls.organizationName.touched &&
                  formControls.organizationName.invalid
                "
                class="alert alert-danger"
              >
                <div *ngIf="formControls.organizationName.errors.required">
                  Organization Name is required.
                </div>
              </div>
            </div-->

            <!-- <div class="form-group">
              <select
                formControlName="state"
                name="state"
                id="state"
                class="form-control col-xs-12 col-md-12"
              >
                <option label="State/Province" disabled></option>
                <option *ngFor="let state of states">{{ state }}</option>
              </select>
            </div> -->

            <div class="form-group">
              <input
                formControlName="fundingAuthority"
                name="fundingAuthority"
                id="fundingAuthority"
                class="form-control col-xs-12 col-md-12"
                placeholder="Funding Authority"
              />

              <div
                *ngIf="
                  formControls.fundingAuthority.touched &&
                  formControls.fundingAuthority.invalid
                "
                class="alert alert-danger"
              >
                <div *ngIf="formControls.fundingAuthority.errors.required">
                  Funding Authority is required.
                </div>
              </div>
            </div>

            <div class="form-group">
              <input
                formControlName="fundingAmount"
                name="fundingAmount"
                id="fundingAmount"
                class="form-control col-xs-12 col-md-12"
                placeholder="Funding Amount"
                type="number"
              />
            </div>

            <div class="form-group">
              <select
                formControlName="projectDomain"
                name="projectDomain"
                id="projectDomain"
                class="form-control col-xs-12 col-md-12"
              >
                <option label="Project Domain" disabled></option>
                <option label="Healthcare" value="Healthcare">
                  Healthcare
                </option>
                <option label="Aerospace" value="Aerospace">Aerospace</option>
                <option label="Engineering" value="Engineering">
                  Engineering
                </option>
                <option label="Other" value="Other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <select
                formControlName="projectCriticality"
                name="projectCriticality"
                id="projectCriticality"
                class="form-control col-xs-12 col-md-12"
              >
                <option label="Project Criticality" disabled></option>
                <option label="High" value="High">High</option>
                <option label="Medium" value="Medium">Medium</option>
              </select>
            </div>

            <div class="form-group">
              <input
                formControlName="projectStartDate"
                name="projectStartDate"
                id="projectStartDate"
                class="form-control col-xs-12 col-md-12"
                placeholder="Project Start Date"
                type="date"
                value=""
              />
            </div>

            <div class="form-group">
              <input
                formControlName="projectEndDate"
                name="projectEndDate"
                id="projectEndDate"
                class="form-control col-xs-12 col-md-12"
                placeholder="Project End Date"
                type="date"
                value=""
              />
            </div>

            <div class="form-group">
              <input
                formControlName="projectNextReviewDate"
                name="projectNextReviewDate"
                id="projectNextReviewDate"
                class="form-control col-xs-12 col-md-12"
                placeholder="Next Review Date (tentative)"
                type="date"
                value=""
              />
            </div>

            <div class="form-group">
              <input
                formControlName="projectLead"
                name="projectLead"
                id="projectLead"
                class="form-control col-xs-12 col-md-12"
                placeholder="Project Lead"
              />
            </div>

            <div class="form-group">
              <select
                formControlName="roleTrlAssessment"
                name="roleTrlAssessment"
                id="roleTrlAssessment"
                class="form-control col-xs-12 col-md-12"
              >
                <option label="Role for this TRL assessment" disabled></option>
                <option label="Project Lead" value="Project Lead">
                  Project Lead
                </option>
                <option label="Project Team Member" value="Project Team Member">
                  Project Team Member
                </option>
                <option label="Assigned Reviewer" value="Assigned Reviewer">
                  Assigned Reviewer
                </option>
              </select>
              <div
                *ngIf="
                  formControls.roleTrlAssessment.touched &&
                  formControls.roleTrlAssessment.invalid
                "
                class="alert alert-danger"
              >
                <div *ngIf="formControls.roleTrlAssessment.errors.required">
                  Role for this TRL assessment is required.
                </div>
              </div>
            </div>

            <div class="form-group">
              <input
                formControlName="emailId"
                name="emailId"
                id="emailId"
                class="form-control col-xs-12 col-md-12"
                placeholder="Alternate email ID"
                type="email"
              />

              <div
                *ngIf="
                  formControls.emailId.touched && formControls.emailId.invalid
                "
                class="alert alert-danger"
              >
                <div *ngIf="formControls.emailId.errors.required">
                  Email id is required.
                </div>
              </div>
            </div>

            <div class="form-group">
              <input
                formControlName="trlAssessmentDate"
                name="trlAssessmentDate"
                id="trlAssessmentDate"
                class="form-control col-xs-12 col-md-12"
                placeholder="Date of TRL assessment"
                type="date"
                value=""
                onChange="this.setAttribute('value', this.value)"
              />
            </div>

            <div>
              <button class="button1" (click)="onSubmit()" mat-button>
                Save
              </button>
            </div>
          </mat-step>
          <!-- <mat-step label="Family Details">
            <button type="submit" class="button1">
              + Add Emergency Contact
            </button>

            <div>
              <div class="form-group">
                <br />
                <input
                  formControlName="fullName"
                  name="fullName"
                  id="fullName"
                  class="form-control col-xs-12 col-md-12"
                  placeholder="Full Name"
                />
              </div>
              <div class="form-group">
                <select
                  formControlName="relation"
                  name="relation"
                  id="relation"
                  class="form-control col-xs-12 col-md-12"
                >
                  <option label="Relation" disabled></option>
                  <option *ngFor="let relationObj of relationA">
                    {{ relationObj }}
                  </option>
                </select>
              </div>

              <input
                formControlName="familyMobileNumber"
                name="familyMobileNumber"
                id="familyMobileNumber"
                class="form-control col-xs-12 col-md-12"
                placeholder="Mobile Number"
                maxlength="10"
              />
              <div
                *ngIf="
                  formControls.familyMobileNumber.touched &&
                  formControls.familyMobileNumber.invalid
                "
                class="alert alert-danger"
              >
                <div *ngIf="formControls.familyMobileNumber.errors.pattern">
                  Please, Enter 10 digit Mobile Number.
                </div>
              </div>
            </div>

            <div class="form-group consent-div">
              <input (change)="changeConsent()" type="checkbox" id="consent" />
              <label>
                <span> </span> I hereby consent to allow NETCCN to use my
                information for clinical decision making.
              </label>
            </div>

            <div>
              <button mat-button matStepperPrevious class="button1">
                Back
              </button>
            </div>
            <br />
            <div class="form-group">
              <button
                type="submit"
                class="button1"
                [ngClass]="
                  consent === false
                    ? 'opaorganizationNameHalf'
                    : 'opaorganizationNameFull'
                "
                [disabled]="consent === false"
                (click)="onSubmit()"
              >
                SUBMIT
              </button>
            </div>
          </mat-step> -->
        </mat-horizontal-stepper>
      </form>

      <div
        #modal
        *ngIf="showModal"
        class="modalContainer modal-dialog-centered"
      >
        <div class="modalBody">
          <img
            src="../../../assets/Green-Circle-Tick.svg"
            class="tick-complt"
          />
          <p>Your project details have been saved successfully . Thank you.</p>
          <p>Have a nice day!</p>
          <button class="modalClose" (click)="closeModal()">
            Fill assesment
          </button>
          <!-- class="modalClose" -->
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="options === 'As Approval'">
    <app-clinician-registration (modalOpen)="openModal()">
    </app-clinician-registration>
  </div>

  <div #modal *ngIf="showModal" class="modalContainer modal-dialog-centered">
    <div class="modalBody">
      <img src="../../../assets/Green-Circle-Tick.svg" class="tick-complt" />
      <p>Project details have been saved successfully.</p>
      <p *ngIf="options === 'As Company'">Please login to take screening.</p>
      <p *ngIf="options === 'As Approval'">
        Please check your registered email.
      </p>
      <p>Thank you</p>
      <button class="modalClose" (click)="closeModal()">OK</button>
      <!-- class="modalClose" -->
    </div>
  </div>
</div>
